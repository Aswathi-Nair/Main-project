<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="icon" href="favicon.ico">
	<title>keystroke - person identification</title>
	<!-- Bootstrap core CSS -->
	<link href="/static/nantes/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
	<!-- Custom styles for this template -->
	<link href="/static/nantes/css/owl.carousel.css" rel="stylesheet">
	<link href="/static/nantes/css/owl.theme.default.min.css"  rel="stylesheet">
	<link href="/static/nantes/css/animate.css" rel="stylesheet">
	<link href="/static/nantes/css/style.css" rel="stylesheet">
</head>
<body id="page-top">
	<!-- Navigation -->
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header page-scroll">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand page-scroll" href="#page-top"><img src="/static/logo.png" alt="Sanza theme logo"></a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right">
					<li class="hidden">
						<a href="#page-top"></a>
					</li>
					<li>
						<a class="page-scroll" href="#page-top">Home</a>
					</li>

					<li>
						<a class="page-scroll" href="#team">Login</a>
					</li>
					<li>
						<a class="page-scroll" href="#registration">Registration</a>
					</li>
					<!-- <li>
						<a class="page-scroll" href="#contact">Contact</a>
					</li> -->
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container-fluid -->
	</nav>
	<!-- Header -->
	<header>
		<div class="container-fluid">
			<div class="slider-container">

				<div class="owl-slider owl-carousel">
					<div class="item">
						<div class="owl-slider-item">
							<img src="/static/nantes/images/demo/slider-1.jpg" class="img-responsive" alt="portfolio">
							<div class="intro-text">
								<div class="intro-lead-in">Alister</div>
								<div class="intro-heading">Email System</div>
							</div>
						</div>
					</div>
					<div class="item">
						<div class="owl-slider-item">
							<img src="/static/nantes/images/demo/slider-1.jpg" class="img-responsive" alt="portfolio">
							<div class="intro-text">
								<div class="intro-lead-in">Authenticated </div>
								<div class="intro-heading">using Keystroke Dynamice</div>
							</div>
						</div>
					</div>
					
				</div>

			</div>
		</div>
	</header>




	

	<section id="team" class="light-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 text-center">
					<div class="section-title">
						<h2>Login</h2>

					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">

				</div>

				<div class="col-md-4">
					<form method="post" id="login_via_keystroke">
						<div class="form-group">
							<label>Username</label>
							<input class="form-control" type="text" name="username" placeholder="Username">
						</div>
						<div class="form-group">
							<label>Password</label>
							<input class="form-control" type="password" name="password" placeholder="password">
						</div>
						<div class="form-group">
							<input type="button" name="login" value="login">
						</div>
					</form>
				</div>
			</div>
		</div>
	</section>
	<section id="registration" class="light-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 text-center">
					<div class="section-title">
						<h2>Registration</h2>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-3">

				</div>

				<div class="col-md-6">
					<form method="post" id="register_via_keystroke">
						<table align="center">
							<tr>
								<td>
									FIRSTNAME
								</td>
								<td>
									<input class="form-control" type="text" name="fname">
								</td>
							</tr>
							<tr>
								<td>
									LASTNAME
								</td>
								<td>
									<input class="form-control" type="text" name="lname">
								</td>
							</tr>
							<tr>
								<td>
									AGE
								</td>
								<td>
									<input class="form-control" type="text" name="age">
								</td>
							</tr>
							<tr>
								<td>
									DATE-OF-BIRTH
								</td>
								<td>
									<input class="form-control" type="date" name="dob">
								</td>
							</tr>
							<tr>
								<td>
									PLACE
								</td>
								<td>
									<input class="form-control" type="text" name="place">
								</td>
							</tr>
							<tr>
								<td>
									CITY
								</td>
								<td>
									<input class="form-control" type="text" name="city">
								</td>
							</tr>
							<tr>
								<td>
									STATE
								</td>
								<td>
									<input class="form-control" type="text" name="state">
								</td>
							</tr>
							<tr>
								<td>
									EMAIL
								</td>
								<td>
									<input class="form-control" type="email" name="email">
								</td>
							</tr>
							<tr>
								<td>
									PHONE
								</td>
								<td>
									<input class="form-control" type="text" name="phone">
								</td>
							</tr>
							<tr>
								<td>
									USERNAME
								</td>
								<td>
									<input class="form-control" type="text" name="user">
								</td>
							</tr>
							<tr>
								<td>
									PASSWORD
								</td>
								<td>
									<input class="form-control" type="password" name="pass">
								</td>
							</tr>
							<tr>
								<td>
									Type for feature extraction
								</td>
								<td>
									<div>
									Hunt and peck (two-fingered typing), also known as Eagle Finger, is a common form of typing in which the typist presses each key individually. Instead of relying on the memorized position of keys, the typist must find each key by sight. Use of this method may also prevent the typist from being able to see what has been typed without glancing away from the keys.
									</div>
									<textarea name="feature_text"  class="form-control"></textarea>
								</td>
							</tr>
							<tr>
								<td></td>
								<td>
									<input type="button" name="register" value="Register">
								</td>
							</tr>
						</form>
					</table>
				</div>
			</div>
		</div>
	</section>

	

	<!-- <section id="contact" class="dark-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 text-center">
					<div class="section-title">
						<h2>Contact Us</h2>
						<p>If you have some Questions or need Help! Please Contact Us!<br>We make Cool and Clean Design for your Business</p>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-3">
					<div class="section-text">
						<h4>Our Business Office</h4>
						<p>3422 Street, Barcelona 432, Spain, New Building North, 15th Floor</p>
						<p><i class="fa fa-phone"></i> +101 377 655 22125</p>
						<p><i class="fa fa-envelope"></i> mail@yourcompany.com</p>
					</div>
				</div>
				<div class="col-md-3">
					<div class="section-text">
						<h4>Business Hours</h4>
						<p><i class="fa fa-clock-o"></i> <span class="day">Weekdays:</span><span>9am to 8pm</span></p>
						<p><i class="fa fa-clock-o"></i> <span class="day">Saturday:</span><span>9am to 2pm</span></p>
						<p><i class="fa fa-clock-o"></i> <span class="day">Sunday:</span><span>Closed</span></p>
					</div>
				</div>
				<div class="col-md-6">
					<form name="sentMessage" id="contactForm" novalidate="">
						<div class="row">
							<div class="col-md-6">
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Your Name *" id="name" required="" data-validation-required-message="Please enter your name.">
									<p class="help-block text-danger"></p>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<input type="email" class="form-control" placeholder="Your Email *" id="email" required="" data-validation-required-message="Please enter your email address.">
									<p class="help-block text-danger"></p>
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<div class="form-group">
									
									<textarea class="form-control" placeholder="Your Message *" id="message" required="" data-validation-required-message="Please enter a message."></textarea>
									<p class="help-block text-danger"></p>
								</div>
							</div>
							<div class="clearfix"></div>
						</div>
						<div class="row">
							<div class="col-lg-12 text-center">
								<div id="success"></div>
								<button type="submit" class="btn">Send Message</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</section> -->
	<p id="back-top">
		<a href="#top"><i class="fa fa-angle-up"></i></a>
	</p>
	<footer>
		
	</footer>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<script src="/static/nantes/js/bootstrap.min.js"></script>
	<script src="/static/nantes/js/owl.carousel.min.js"></script>
	<script src="/static/nantes/js/cbpAnimatedHeader.js"></script>
	<script src="/static/nantes/js/jquery.appear.js"></script>
	<script src="/static/nantes/js/SmoothScroll.min.js"></script>
	<script src="/static/nantes/js/theme-scripts.js"></script>

	<script>

		$(document).ready(function(){

			key_timing = []

			enable = true

			$("#register_via_keystroke input[type='button']").click(function(){
				features = []
				console.log(key_timing.length)
				if (key_timing.length > 2){
					feature = []
					j = 0
					for(i=0;i<key_timing.length-1;i++){
						// feature.push(key_timing[i][0])
						// feature.push(key_timing[i+1][0])

						feature.push(key_timing[i][1]-key_timing[i][0])
						feature.push(key_timing[i+1][1]-key_timing[i+1][0])
						feature.push(key_timing[i+1][0]-key_timing[i][0])
						feature.push(key_timing[i+1][1]-key_timing[i][1])
						feature.push(key_timing[i+1][1]-key_timing[i][0])
						feature.push(key_timing[i+1][0]-key_timing[i][1])


						j++;
						//console.log(feature)
						if(j==1){
					
							features.push(feature)
							

							feature = []
							j = 0
						}
					}
					console.log(features)
			  }

				obj = $('#register_via_keystroke').serializeArray()
				obj.push({name:$(this).attr('name'),value:$(this).val()})
				obj.push({name:'features',value:JSON.stringify(features)})
				$.post('/register_action/',obj,function(data){
					window.location = '/'
				})
				key_timing = []
				features = []
			})

			key_info = []

			$("#register_via_keystroke textarea[name='feature_text']").keydown(function(e){
				if (key_info.length == 0){
					key_info.push(Date.now())
				}else{
					e.preventDefault()
				}
			});	
			$("#register_via_keystroke textarea[name='feature_text']").keyup(function(e){
				if (key_info.length == 1){
					key_info.push(Date.now())
					key_timing.push(key_info)
					key_info = []
				}
				
				
			});


		})

	</script>

	<script>

		$(document).ready(function(){

			key_timing = []

			enable = true

			$("#login_via_keystroke input[type='button']").click(function(){
				features = []
					
				if (key_timing.length > 2){
					feature = []
					j = 0
					for(i=0;i<key_timing.length-1;i++){
						// feature.push(key_timing[i][0])
						// feature.push(key_timing[i+1][0])
						feature.push(key_timing[i][1]-key_timing[i][0])
						feature.push(key_timing[i+1][1]-key_timing[i+1][0])
						feature.push(key_timing[i+1][0]-key_timing[i][0])
						feature.push(key_timing[i+1][1]-key_timing[i][1])
						feature.push(key_timing[i+1][1]-key_timing[i][0])
						feature.push(key_timing[i+1][0]-key_timing[i][1])
						j++;
						if(j==1){

							console.log(feature)
							features.push(feature)

							feature = []
							j = 0
						}
					}
					
				}
				// console.log(features)
				obj = $('#login_via_keystroke').serializeArray()
				console.log(JSON.stringify(features))
				obj.push({name:$(this).attr('name'),value:$(this).val()})
				obj.push({name:'features',value:JSON.stringify(features)})
				$.post('/login_action/',obj,function(data){
					// console.log(data);
					obj = JSON.parse(data)
					if(obj['status'] == 'success'){
						if(obj['data'].length > 0){
							if(obj['data'][0].login_type == 'user'){
								// window.location = '/user_home'
								alert("ok")
							}
						}
					}else{
						alert(obj['reason'])
					}
				});
				key_timing = []
				features = []
			})

			key_info = []

			$("#login_via_keystroke input[type='password']").keydown(function(e){
				// console.log(key_info.length)
				if (key_info.length == 0){
					key_info.push(Date.now())
				}
			});	
			$("#login_via_keystroke input[type='password']").keyup(function(e){
				// console.log(key_info.length)
				if (key_info.length == 1){
					key_info.push(Date.now())
					key_timing.push(key_info)
					key_info = []
				}
			});


		})

	</script>
</body>
</html>